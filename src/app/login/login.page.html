<ion-content>
  <div class="center-content">
    <div class="auth-form">
      <div class="logo-section">
        <img class="small vertical-center test" src="../../assets/CARE-AI-new-logo.png">
      </div>
      <ion-segment [(ngModel)]="selectedTab" color="primary">
        <ion-segment-button value="login">
          Login
        </ion-segment-button>
        <ion-segment-button value="register">
          Register
        </ion-segment-button>
        <ion-segment-button value="checkout">
          Тест
        </ion-segment-button>
      </ion-segment>
      <form [formGroup]="formGroup" *ngIf="selectedTab === 'login'">
        <div class="error" *ngIf="isFailed">
          <span *ngIf="titleError == 'Error'"> Неправильная почта или пароль </span>
          <span *ngIf="titleError != 'Error'"> {{titleError}} </span>
        </div>
        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col>
              <ion-input type="text" formControlName="email" placeholder="Почта" required="true" position="floating"
                background="white" clearInput></ion-input>
              <hr>
              <ion-input type="password" formControlName="password" placeholder="Пароль" required="true"
                position="floating" background="white" clearInput></ion-input>
            </ion-col>
          </ion-row>
          <ion-row class="ion-align-items-center">
            <ion-col size-lg="6" offset-lg="3">
              <ion-button color="dark" [disabled]="formGroup.invalid" (click)="login()" expand="block">Войти</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>

      <!-- Registration Form -->
      <form [formGroup]="registrationFormGroup" *ngIf="selectedTab === 'register'">
        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col>
              <ion-input type="email" formControlName="email" placeholder="Почта" required="true" position="floating"
                background="white" clearInput></ion-input>
              <hr>
              <ion-input type="text" formControlName="firstName" placeholder="Имя" required="true" position="floating"
                background="white" clearInput></ion-input>
              <hr>
              <ion-input type="date" formControlName="dateOfBirth" placeholder="Дата дня рождения" required
                position="floating" background="white">
              </ion-input>
              <hr>
              <ion-input type="password" formControlName="password" placeholder="Пароль" required="true"
                position="floating" background="white" clearInput></ion-input>
              <hr>
              <ion-input type="password" formControlName="confirmPassword" placeholder="Подтвердить пароль"
                required="true" position="floating" background="white" clearInput></ion-input>
              <hr>
            </ion-col>
          </ion-row>
          <ion-row class="ion-align-items-center">
            <ion-col size-lg="6" offset-lg="3">
              <ion-button color="dark" [disabled]="registrationFormGroup.invalid" (click)="register()"
                expand="block">Зарегистрироваться</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>
      <form [formGroup]="testFormGroup" *ngIf="selectedTab === 'checkout'">
        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col>
              <ion-button color="dark" (click)="takePicture()" expand="block">Сделай фотку лица</ion-button>
              <img [src]="image">
              <hr>
              <ion-input type="text" formControlName="weight" placeholder="Вес" required="true" position="floating"
                background="white" clearInput></ion-input>
              <hr>
              <ion-input type="text" formControlName="height" placeholder="Рост" required="true" position="floating"
                background="white" clearInput></ion-input>
              <hr>
              <ion-button (click)="countDiet()" color="dark" expand="block">Посчитать диету</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>
    </div>
  </div>
</ion-content>